{% extends 'base.html' %}

{% block content %}

<style>
    .link{
        position: absolute;
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
        z-index = 1;
    }
</style>


<section id="postsearch">
    <div class="container-text-center">
        <div class="post-search p-5">
            <div class="overlay p-5">
                <h1 id="search_text" class="d-4 text-center">
                    Enter any Keyword and find a post
                </h1>
                <div class="search">
                    <form action="{%url 'search'%}">
                        <div class="row">
                            <div class="col">
                                <input type="text" name="query" class="form-control" placeholder="Enter your search term here" aria-label="query">
                            </div>
                            <div class="col">
                                <input type="text" name="author" class="form-control" placeholder="Enter the user (optional)" aria-label="author">
                            </div>
                        </div>
                        <div class="row p-3">
                            <button type="submit" name="gosearch" class="btn btn-primary">GO</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>

<section id="latestposts">
    <div class="row">
        
            {%if posts%}
            
            {% for post in posts %}
            <div class="col">
            <div class="card p-2 m-2">
                <h5 class="card-title">{{post.title}}</h5>
                <p class="card-text">{{post.content}}</p>
                <a href="{% url 'post' post.id%}">
                    <span class="link"></span>
                </a>
            </div>
            </div>
            {% endfor %}
            {%else%}
            <p> No Posts</p>
            
            {%endif%}
        
    </div>
</section>

{% endblock %}

{% comment %} div class="col">
            <div class="card p-2 m-2">
                <h5 class="card-title">Post 2</h5>
                <p class="card-text">Post Content</p>
                <a href="#" class="card-link">Link to post</a>
            </div>
        </div>
        <div class="col">
            <div class="card p-2 m-2">
                <h5 class="card-title">Post 3</h5>
                <p class="card-text">Post Content</p>
                <a href="#" class="card-link">Link to post</a>
            </div>
        </div> {% endcomment %}